<html>
<head>
    <title>XMLHttp Request</title>
</head>
<body>
    <script>
        //Create a new XMLHttpRequest object.
        var xhr= new XMLHttpRequest();

        //Define HTTP method and url.
        var method = "GET";
        var url= "https://restcountries.com/v3.1/all";

        //Open the request.
        xhr.open(method, url);

        //Set Headers.
        // xhr.setRequestHeader('Content-Type','application/json');

        xhr.onload = function (){
            if (xhr.status === 200) {
                //Request was successful.
                
                //String to Object Conversion.
                var response = JSON.parse(xhr.responseText);

                response.forEach((response) => {
                    let data = response.name.common; 
                    let data1 = response.capital;
                    let data2 = response.flag;
                    console.log(data,data1,data2);
                });
            }
        else{
                console.log("Request failed",xhr.status);
            }
        }
        //send request
        xhr.send();        

    </script> 
</body>
</html>